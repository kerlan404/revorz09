<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <title>Detail - Revorz</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #050505; color: #fff; }
        .glass-card { background: rgba(15, 15, 15, 0.6); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.05); }
    </style>
</head>
<body class="p-8">
    <button onclick="history.back()" class="mb-8 flex items-center gap-2 text-gray-500 hover:text-white transition font-bold text-xs uppercase tracking-widest">
        <i data-lucide="arrow-left" class="w-4 h-4"></i> Back
    </button>

    <div id="detailView" class="max-w-6xl mx-auto"></div>

    <script>
        function loadDetail() {
            const pid = localStorage.getItem('current_pid');
            const products = JSON.parse(localStorage.getItem('revorz_products')) || [];
            const p = products.find(x => x.id == pid);

            if(!p) return;

            document.getElementById('detailView').innerHTML = `
                <div class="grid md:grid-cols-2 gap-16">
                    <div class="glass-card rounded-[3rem] overflow-hidden border border-white/10">
                        <img src="${p.img}" class="w-full h-full object-cover">
                    </div>
                    <div class="flex flex-col justify-center">
                        <h1 class="text-6xl font-black italic tracking-tighter mb-4">${p.nama}</h1>
                        <p class="text-4xl text-blue-600 font-black mb-8">Rp ${p.harga.toLocaleString('id-ID')}</p>
                        
                        <div class="glass-card p-8 rounded-[2rem] mb-8">
                            <h4 class="text-xs font-black uppercase tracking-widest text-gray-500 mb-2">Description</h4>
                            <p class="text-gray-400 leading-relaxed">${p.desc}</p>
                        </div>

                        <div class="flex items-center gap-6 mb-10">
                            <div class="bg-white/5 border border-white/10 px-6 py-4 rounded-2xl flex items-center gap-6">
                                <button onclick="updateQty(-1)" class="text-xl font-bold">-</button>
                                <span id="qty" class="text-xl font-black">1</span>
                                <button onclick="updateQty(1)" class="text-xl font-bold">+</button>
                            </div>
                            <p class="text-xs text-gray-600 font-bold uppercase tracking-widest">Stok: ${p.stok} Pcs</p>
                        </div>

                        <button onclick="addToCart()" class="bg-white text-black py-6 rounded-3xl font-black uppercase tracking-[0.2em] hover:bg-blue-600 hover:text-white transition duration-500">Add To Cart</button>
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        let currentQty = 1;
        function updateQty(n) {
            currentQty = Math.max(1, currentQty + n);
            document.getElementById('qty').innerText = currentQty;
        }

        function addToCart() {
            const pid = localStorage.getItem('current_pid');
            const products = JSON.parse(localStorage.getItem('revorz_products')) || [];
            const p = products.find(x => x.id == pid);
            
            let cart = JSON.parse(localStorage.getItem('revorz_cart')) || [];
            cart.push({ ...p, qty: currentQty });
            localStorage.setItem('revorz_cart', JSON.stringify(cart));
            
            alert("Berhasil masuk keranjang!");
            window.location.href = "cart.html";
        }
        window.onload = loadDetail;
    </script>
</body>
</html>