<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Revorz - Login Access</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;600;800&display=swap');
        :root { --brand-blue: #1524f4; }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #000; color: #fff; overflow: hidden; }
        .glass-card { background: rgba(15, 15, 15, 0.6); backdrop-filter: blur(30px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .form-wrapper { display: flex; width: 200%; transition: transform 0.6s cubic-bezier(0.65, 0, 0.35, 1); }
        .form-content { width: 50%; padding: 40px; }
        .show-register { transform: translateX(-50%); }
        .input-field { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); color: white; width: 100%; padding: 1rem 1rem 1rem 3.5rem; border-radius: 1rem; transition: 0.3s; font-size: 14px; }
        .input-field:focus { border-color: var(--brand-blue); background: rgba(21, 36, 244, 0.05); outline: none; }
        .toast { position: fixed; top: 20px; right: 20px; padding: 15px 25px; border-radius: 12px; z-index: 1000; transform: translateX(150%); transition: 0.5s; font-weight: 800; font-size: 12px; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div id="toast" class="toast text-white"></div>

    <div class="max-w-md w-full glass-card rounded-[3rem] overflow-hidden shadow-2xl">
        <div id="mainSlider" class="form-wrapper">
            <div class="form-content">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-black italic tracking-tighter uppercase">REVORZ<span class="text-blue-600">.</span></h1>
                    <p class="text-zinc-500 text-[10px] font-bold tracking-[0.4em] uppercase mt-2">Authorized Access</p>
                </div>
                <form id="loginForm" class="space-y-4">
                    <div class="relative"><i data-lucide="user" class="absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 w-5 h-5"></i><input type="text" id="l_user" placeholder="USERNAME" class="input-field" required></div>
                    <div class="relative"><i data-lucide="lock" class="absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 w-5 h-5"></i><input type="password" id="l_pass" placeholder="PASSWORD" class="input-field" required></div>
                    <button type="submit" class="w-full bg-blue-600 py-4 rounded-2xl font-black text-xs tracking-widest hover:bg-blue-700 transition-all active:scale-95">SIGN IN</button>
                </form>
                <p class="text-center mt-6 text-xs text-zinc-500">Need an account? <button onclick="toggleForm('register')" class="text-white font-black underline">JOIN REVORZ</button></p>
            </div>

            <div class="form-content">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-black italic tracking-tighter uppercase">JOIN<span class="text-blue-600">.</span></h1>
                </div>
                <form id="registerForm" class="space-y-4">
                    <div class="relative"><i data-lucide="user-plus" class="absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 w-5 h-5"></i><input type="text" id="r_user" placeholder="NEW USERNAME" class="input-field" required></div>
                    <div class="relative"><i data-lucide="shield" class="absolute left-5 top-1/2 -translate-y-1/2 text-zinc-600 w-5 h-5"></i><input type="password" id="r_pass" placeholder="CREATE PASSWORD" class="input-field" required></div>
                    <button type="submit" class="w-full bg-white text-black py-4 rounded-2xl font-black text-xs tracking-widest hover:bg-zinc-200 transition-all active:scale-95">REGISTER</button>
                </form>
                <p class="text-center mt-6 text-xs text-zinc-500">Already a member? <button onclick="toggleForm('login')" class="text-white font-black underline">LOGIN</button></p>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        const slider = document.getElementById('mainSlider');
        function toggleForm(m) { m === 'register' ? slider.classList.add('show-register') : slider.classList.remove('show-register'); }

        function showToast(msg, type) {
            const t = document.getElementById('toast');
            t.innerText = msg.toUpperCase();
            t.style.backgroundColor = type === 'success' ? '#10B981' : '#EF4444';
            t.style.transform = 'translateX(0)';
            setTimeout(() => t.style.transform = 'translateX(150%)', 2500);
        }

        // Register
        document.getElementById('registerForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const u = document.getElementById('r_user').value.trim();
            const p = document.getElementById('r_pass').value;
            let users = JSON.parse(localStorage.getItem('revorz_db')) || [];
            if(users.find(x => x.username === u)) return showToast("User Exists", "error");
            users.push({username: u, password: p, role: 'USER'});
            localStorage.setItem('revorz_db', JSON.stringify(users));
            showToast("Account Created", "success");
            setTimeout(() => toggleForm('login'), 1000);
        });

        // Login
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const u = document.getElementById('l_user').value.trim();
            const p = document.getElementById('l_pass').value;
            let users = JSON.parse(localStorage.getItem('revorz_db')) || [];
            const user = users.find(x => x.username === u && x.password === p);
            
            if(user) {
                sessionStorage.setItem('isLoggedIn', 'true');
                sessionStorage.setItem('currentUser', u);
                sessionStorage.setItem('role', user.role);
                localStorage.setItem('revorz_user', JSON.stringify({username: u, role: user.role}));
                showToast("Access Granted", "success");
                setTimeout(() => window.location.href = 'index.html', 800);
            } else {
                showToast("Invalid Login", "error");
            }
        });
    </script>
</body>
</html>